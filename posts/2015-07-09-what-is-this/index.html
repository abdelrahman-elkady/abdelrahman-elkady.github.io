<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://abdelrahman-elkady.tech/posts/2015-07-09-what-is-this/"><link href="/assets/main.a39ceb5dd702275ba84b.css" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet"><title>What is .. this ? | Abdelrahman Elkady</title><link rel="icon" type="“image/x-icon”" href="/images/favicon.ico"><meta property="og:title" content="What is .. this ?"><meta property="og:site_name" content="Abdelrahman Elkady"><meta property="og:type" content="website"><meta property="og:url" content="https://abdelrahman-elkady.tech/posts/2015-07-09-what-is-this/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@abdelrahmankady"><meta name="description" content="What is .. this ? 07 Sep 2015 | 3 min read He asked me about that word again, he was happy learning and advancing in his Java programming..."><meta property="og:description" content="What is .. this ? 07 Sep 2015 | 3 min read He asked me about that word again, he was happy learning and advancing in his Java programming..."><meta name="description" content="What is .. this ? 07 Sep 2015 | 3 min read He asked me about that word again, he was happy learning and advancing in his Java programming..."><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>mermaid.initialize({startOnLoad:true});</script></head><body><div class="layout-wrapper"><header class="header"><div class="header__content"><h1 class="site-title"><a href="/">Abdelrahman Elkady</a></h1><nav class="nav"><ul class="nav__list"><li class="nav-item"><a href="/blog">Blog</a></li><li class="nav-item"><a href="/about">About</a></li></ul></nav></div></header><main class="main"><article class="post"><header class="post__header"><h1>What is .. this ?</h1><div class="post__details"><time datetime="2015-09-07">07 Sep 2015 </time><span>| </span><span>3 min read</span></div></header><main class="post__content"><p>He asked me about that word again, he was happy learning and advancing in his <strong>Java</strong> programming course .. he told me that<br>he started to reach OOP and the concepts behind it as he said:</p><blockquote><p>Ok, I think I am getting to grasp the concepts of OOP now,<br>I think I am fully understanding what is a class and why we use classes,<br>and how to create instances from these classes .. But I can't get what is the use of <strong>this</strong> keyword actually</p></blockquote><p>That brought me years ago when I was watching an online course and got hit by <code>this</code> , days later I was in OOP lecture<br>where the professor explained the same keyword <code>this</code> , I felt that I got more info but I thought that this thing is very complicated<br>, so thought my colleagues !</p><p>As many programmers I don't always remember when did I learn specific topics, but I think I know more about OOP now, and I keep receiving the<br>same question about <code>this</code> again and again from fellow colleagues and fresh guys learning programming, Every time I got asked this question I answer it, I am answering it but with different way of explanation each time, I feel I am missing something while explaining.</p><p>Lately I noticed a problem happening each time I explain <code>this</code> to someone, people are getting to learn about objects<br>and it's design, but rarely someone get the concept of instance creation and how <strong>Java</strong> deals with <strong>references</strong> .</p><p>Here I am trying to get into that point of <code>Object</code> creation in Java, let's try to explain this using cookies !</p><pre class="language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Cookie</span> <span class="token punctuation">{</span><br><br>  <span class="token keyword">int</span> radius<span class="token punctuation">;</span><br>  <span class="token keyword">boolean</span> baked<span class="token punctuation">;</span><br><br>  <span class="token keyword">public</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token keyword">int</span> radius<span class="token punctuation">,</span><span class="token keyword">boolean</span> baked<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">=</span> radius<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>baked <span class="token operator">=</span> baked<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token class-name">Cookie</span> c1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token class-name">Cookie</span> c2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br><span class="token punctuation">}</span></code></pre><p>In the previous example we just created a <code>Cookie</code> class and created two instances <code>c1</code> , <code>c2</code> from it, <strong>Java</strong> just allocated space for those 2 instances in memory and stored a <strong>reference</strong> of that instance location in the variables <code>c1</code> and <code>c2</code> respectively, that means Java doesn't store whole Objects in variables, it just stores a <strong>reference</strong> of that instance .</p><p>Referring to <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#toString()"><code>toString()</code></a> default implementation it states that the returned value of the method is :</p><p><code>getClass().getName() + '@' + Integer.toHexString(hashCode())</code></p><p>We can use <code>hashCode()</code> in this example, but in general it could be overridden, so we will use the more generic way to get a unique identifier of instances by using <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#identityHashCode(java.lang.Object)"><code>System.identityHashCode(Object)</code></a> :</p><pre class="language-java"><code class="language-java"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>That should print something like this to the console, which means we can check the reference of the Objects</p><pre class="language-bash"><code class="language-bash"><span class="token operator">></span> 2a139a55<br><span class="token operator">></span> 15db9742</code></pre><p>Now, Let's have some normal changes to our instances, changing their attributes' values</p><pre class="language-java"><code class="language-java"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token operator">></span> <span class="token number">2</span>a139a55<br><span class="token operator">></span> <span class="token number">15d</span>b9742<br><br>c1<span class="token punctuation">.</span>radius <span class="token operator">=</span> <span class="token number">120</span> <span class="token punctuation">;</span><br>c2<span class="token punctuation">.</span>baked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br><br><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token operator">></span> <span class="token number">2</span>a139a55<br><span class="token operator">></span> <span class="token number">15d</span>b9742</code></pre><p>Ok, Nice changing the values and modifying the instance doesn't change the reference saved in the variable, and that makes sense, it still points to the same location in memory, and when we change some value it gets to that location, modifies the values we want and then return back, the memory location is still the same for later modifications/readings, let's try to change the location that the variable is pointing to, for example let's assign the address stored in c2 to c1</p><pre class="language-java"><code class="language-java">c1 <span class="token operator">=</span> c2<span class="token punctuation">;</span><br><br><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token operator">></span> <span class="token number">15d</span>b9742<br><span class="token operator">></span> <span class="token number">15d</span>b9742</code></pre><p>This clearly indicates the references thing, now the two variables are pointing to the same location in memory and they read the same values and if we modify any attribute it will modify the same data</p><p>Let's go and try to modify our <code>Cookie</code> class implementation a bit, by adding a statement to print <code>this</code> hashCode into it's constructor :</p><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token keyword">int</span> radius<span class="token punctuation">,</span><span class="token keyword">boolean</span> baked<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">=</span> radius<span class="token punctuation">;</span><br>  <span class="token keyword">this</span><span class="token punctuation">.</span>baked <span class="token operator">=</span> baked<span class="token punctuation">;</span><br>  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>and in our main method let's create new instances again :</p><pre class="language-java"><code class="language-java">c1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>c2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token operator">></span> <span class="token number">2</span>a139a55<br><span class="token operator">></span> <span class="token number">15d</span>b9742<br><br><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token operator">></span> <span class="token number">2</span>a139a55<br><br><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token operator">></span> <span class="token number">15d</span>b9742</code></pre><p>That's pretty interesting, as you can see <code>this</code> is pointing to the same memory location of the instance that is using the constructor right now, we can push it to more interesting stuff, like returning <code>this</code> from a method, let's make this last modification on our <code>Cookie</code> class</p><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">Cookie</span> <span class="token function">getMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>as you compile this it works !, that's because of <code>this</code> is carrying the reference of the instance that calls this method, let's test this in our main method</p><pre class="language-java"><code class="language-java"><span class="token class-name">Cookie</span> thisCookie <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>thisCookie<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token operator">></span> <span class="token number">2</span>a139a55<br><span class="token operator">></span> <span class="token number">2</span>a139a55</code></pre><p>that's why <code>this</code> is pretty useful to get a reference to the calling instance in your class, allowing you to modify and manipulate the instance in runtime based on your class definitions and methods .</p></main><aside class="post__aside"><div class="post__tags"></div><nav class="post__pagination"><a href="/posts/setting-up-android-development-environment-on-ubuntu/"><span>←</span> <span>Setting up android development environment on Ubuntu</span></a></nav></aside></article></main><footer class="footer"><div class="footer__content"><ul class="hero__social-links"><li><a href="https://www.linkedin.com/in/abdelrahmanelkady/" target="_blank" rel="noopener noreferrer">LinkedIn</a></li><li><a href="https://github.com/abdelrahman-elkady" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="https://twitter.com/abdelrahmankady" target="_blank" rel="noopener noreferrer">Twitter</a></li><li><a href="/feed.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul></div></footer></div><script src="/assets/main.31d6cfe0d16ae931b73c.js"></script></body></html>